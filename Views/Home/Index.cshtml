@using CliCarProject.Models.Classes
@using Microsoft.AspNetCore.Mvc.Rendering

@{
    ViewData["Title"] = "Home";
    var marcas = ViewBag.Marcas as List<Marca> ?? new List<Marca>();
    var modelos = ViewBag.Modelos as List<Modelo> ?? new List<Modelo>();
    var classes = ViewBag.Classes as List<Classe> ?? new List<Classe>();
    var combustiveis = ViewBag.Combustiveis as List<Combustivel> ?? new List<Combustivel>();
    var caixas = ViewBag.Caixas as List<SelectListItem> ?? new List<SelectListItem>();
}

<!-- Banner Principal -->
<div class="hero-section">
    <div class="hero-image">
        <img src="@Url.Content("~/images/TemporaryImageHomePage.jpg")" alt="Car Hero" class="hero-img" />
    </div>

    <div class="hero-content">
        <h1 class="hero-title">ClicCar</h1>
        <p class="hero-subtitle">Encontra o carro perfeito para ti.</p>

        <div class="search-box">
            <form method="get" asp-controller="Car" asp-action="CarSearch" class="d-flex gap-2 align-items-center">
                <input name="searchBox" class="form-control" placeholder="Procurar..." />

                <select class="form-select" name="marcaId">
                    <option value="">Marca</option>
                    @foreach (var m in ViewBag.Marcas as List<Marca> ?? new List<Marca>()) {
                        <option value="@m.IdMarca">@m.Nome</option>
                    }
                </select>

                <select class="form-select" name="modeloId">
                    <option value="">Modelo</option>
                    @foreach (var mo in ViewBag.Modelos as List<Modelo> ?? new List<Modelo>()) {
                        <option value="@mo.IdModelo">@mo.Nome</option>
                    }
                </select>

                <select class="form-select" name="categoriaId">
                    <option value="">Categoria</option>
                    @foreach (var c in ViewBag.Classes as List<Classe> ?? new List<Classe>()) {
                        <option value="@c.IdClasse">@c.Nome</option>
                    }
                </select>

                <select class="form-select" name="combustivelId">
                    <option value="">Combustível</option>
                    @foreach (var cb in ViewBag.Combustiveis as List<Combustivel> ?? new List<Combustivel>()) {
                        <option value="@cb.IdCombustivel">@cb.Tipo</option>
                    }
                </select>

                <select class="form-select" name="priceRange">
                    <option value="">Preço</option>
                    <option value="1">Até 10.000 €</option>
                    <option value="2">10.000 € – 30.000 €</option>
                    <option value="3">Acima de 30.000 €</option>
                </select>

                <button type="submit" class="btn btn-danger">Pesquisar</button>
            </form>
        </div>
    </div>
</div>


<br />
<br />
<br />
<br />

<!-- Secção Destaques -->
<div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="fw-bold">Destaques</h3>
        <a href="#" class="text-decoration-none">Mais →</a>
    </div>

    <div class="row g-4">

        <!-- Card de exemplo -->
        <div class="col-md-3">
            <div class="card shadow-sm">
                <img src="/images/cars/sample1.jpg" class="card-img-top" />
                <div class="card-body">
                    <h5 class="card-title">Honda Civic</h5>
                    <p class="card-text fw-bold text-danger">42 100 EUR</p>
                    <p class="text-muted small">2016 • 125 631 km • Diesel • Manual</p>
                </div>
            </div>
        </div>

        <!-- Copia os cards para mostrar mais veículos -->
        <div class="col-md-3">
            <div class="card shadow-sm">
                <img src="/images/cars/sample2.jpg" class="card-img-top" />
                <div class="card-body">
                    <h5 class="card-title">VW Golf MK7</h5>
                    <p class="card-text fw-bold text-danger">31 276 EUR</p>
                    <p class="text-muted small">2019 • 92 190 km • Diesel • Manual</p>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- Secção Favoritos -->
<div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="fw-bold">Favoritos</h3>
        <a href="#" class="text-decoration-none">Mais →</a>
    </div>

    <p class="text-muted">Ainda não tens favoritos.</p>
</div>
